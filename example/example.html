<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Datasync Example</title>
</head>
<body>
	

	<script src='../build/datasync_global.js'></script>
	<script>

		Datasync
		.addSchema({
			name:String,
			nHits:Number,
			date:Date
		})
		.as('schemaName')

		.addVirtual('name')
		(function(elem){

		});




		Datasync
		.addDatapath('http://www.test.com/some/simple/datapath/:param')
		.as('Jordan')
		.setCacheSize(5)
		// .useSchema('schemaName')
		.addFormatter(function(e){

		})
		
		.addFiller(function(dataset){

		})

		.addSubset('name')
		(function(){

		})

		.addTransform('someName')
		(function(d){
			return {test:'test', datasetSize:d.length};
		});


		Datasync.setParameter('param', 1);
		Datasync.ensureSynced('Jordan');

		//this will create another new frame (2)
		Datasync.setParameter('param', 2);
		Datasync.ensureSynced('Jordan');

		//now, the make the first frame valid again
		Datasync.setParameter('param', 1);
		Datasync.ensureSynced('Jordan');

		console.log(Datasync.getData('Jordan'));
		/*============================
		=            TODO            =
		============================*/
		//syntax that allows extending pipeline results is desired:
		// .addSubset('name')
		// 	.toSubset('someOtherSubset')
		// 	(function(){

		// 	})
		

		// .addTransform('transformName')
		// 	.toSubset('someSubset')
		// 	(function(){

		// 	})
		/*=====  End of TODO  ======*/
	</script>
</body>
</html>